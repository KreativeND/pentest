import Link from "next/link";
import { Button } from "@/components/ui/button";
import { CardTitle, CardHeader, CardContent, Card } from "@/components/ui/card";
import { Separator } from "@/components/ui/separator";
import {
  DropdownMenuTrigger,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuContent,
  DropdownMenu,
} from "@/components/ui/dropdown-menu";
import { UserButton } from "@clerk/nextjs";

export function MainDashboard() {
  return (
    <div className="flex flex-col w-full min-h-screen">
      <main className="flex min-h-[calc(100vh_-_theme(spacing.16))] bg-gray-100/40 flex-1 flex-col gap-4 p-4 md:gap-8 md:p-10 dark:bg-gray-800/40">
        <div className="max-w-6xl w-full mx-auto flex justify-between">
          <h1 className="font-semibold text-3xl">Dashboard</h1>
          <UserButton afterMultiSessionSingleSignOutUrl="" afterSignOutUrl="" />
        </div>
        <div className="grid gap-6 max-w-6xl w-full mx-auto">
          <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
            <Card>
              <CardHeader className="flex flex-row items-center justify-between pb-2">
                <CardTitle className="text-sm font-medium">
                  Web App Testing
                </CardTitle>
                <CodeIcon className="w-4 h-4 text-gray-500 dark:text-gray-400" />
              </CardHeader>
              <CardContent>
                <div className="grid gap-2">
                  <Link
                    className="flex items-center justify-between text-sm font-medium hover:underline"
                    href={{
                      pathname: "/dashboard/testingdashboard",
                      query: { title: "Web App Testing" },
                    }}
                  >
                    <span>Automated Testing</span>
                    <ChevronRightIcon className="w-4 h-4 text-gray-500 dark:text-gray-400" />
                  </Link>
                  <Link
                    className="flex items-center justify-between text-sm font-medium hover:underline"
                    href="#"
                  >
                    <span>Manual Testing</span>
                    <ChevronRightIcon className="w-4 h-4 text-gray-500 dark:text-gray-400" />
                  </Link>
                  <Link
                    className="flex items-center justify-between text-sm font-medium hover:underline"
                    href="#"
                  >
                    <span>Performance Testing</span>
                    <ChevronRightIcon className="w-4 h-4 text-gray-500 dark:text-gray-400" />
                  </Link>
                </div>
              </CardContent>
            </Card>
            <Card>
              <CardHeader className="flex flex-row items-center justify-between pb-2">
                <CardTitle className="text-sm font-medium">
                  Cloud Scanning
                </CardTitle>
                <CloudIcon className="w-4 h-4 text-gray-500 dark:text-gray-400" />
              </CardHeader>
              <CardContent>
                <div className="grid gap-2">
                  <Link
                    className="flex items-center justify-between text-sm font-medium hover:underline"
                    href={{
                      pathname: "/dashboard/testingdashboard",
                      query: { title: "Cloud Scanning" },
                    }}
                  >
                    <span>Automated Scanning</span>
                    <ChevronRightIcon className="w-4 h-4 text-gray-500 dark:text-gray-400" />
                  </Link>
                  <Link
                    className="flex items-center justify-between text-sm font-medium hover:underline"
                    href="#"
                  >
                    <span>Manual Scanning</span>
                    <ChevronRightIcon className="w-4 h-4 text-gray-500 dark:text-gray-400" />
                  </Link>
                  <Link
                    className="flex items-center justify-between text-sm font-medium hover:underline"
                    href="#"
                  >
                    <span>Compliance Scanning</span>
                    <ChevronRightIcon className="w-4 h-4 text-gray-500 dark:text-gray-400" />
                  </Link>
                </div>
              </CardContent>
            </Card>
            <Card>
              <CardHeader className="flex flex-row items-center justify-between pb-2">
                <CardTitle className="text-sm font-medium">
                  API Scanning
                </CardTitle>
                <PiIcon className="w-4 h-4 text-gray-500 dark:text-gray-400" />
              </CardHeader>
              <CardContent>
                <div className="grid gap-2">
                  <Link
                    className="flex items-center justify-between text-sm font-medium hover:underline"
                    href="#"
                  >
                    <span>Automated Testing</span>
                    <ChevronRightIcon className="w-4 h-4 text-gray-500 dark:text-gray-400" />
                  </Link>
                  <Link
                    className="flex items-center justify-between text-sm font-medium hover:underline"
                    href="#"
                  >
                    <span>Manual Testing</span>
                    <ChevronRightIcon className="w-4 h-4 text-gray-500 dark:text-gray-400" />
                  </Link>
                  <Link
                    className="flex items-center justify-between text-sm font-medium hover:underline"
                    href="#"
                  >
                    <span>Security Scanning</span>
                    <ChevronRightIcon className="w-4 h-4 text-gray-500 dark:text-gray-400" />
                  </Link>
                </div>
              </CardContent>
            </Card>
          </div>
          <div className="border rounded-lg overflow-hidden grid gap-4 lg:gap-px lg:bg-gray-100">
            <div className="flex flex-col lg:flex-row bg-white text-sm p-2 relative dark:bg-gray-950">
              <div className="p-2 grid gap-1 flex-1">
                <div className="font-medium">Automated Web Tests</div>
                <div className="text-gray-500 dark:text-gray-400">
                  Automated testing for web applications
                </div>
              </div>
              <Separator className="my-2 lg:hidden" />
              <div className="p-2 grid gap-1 flex-1">
                <div className="flex items-start gap-2">
                  <span className="inline-flex w-3 h-3 bg-green-400 rounded-full translate-y-1" />
                  <div>
                    Passed
                    <div className="text-gray-500 dark:text-gray-400">
                      12 tests
                    </div>
                  </div>
                </div>
              </div>
              <Separator className="my-2 lg:hidden" />
              <div className="p-2 grid gap-1 flex-1">
                <div className="flex items-start gap-2">
                  <span className="inline-flex w-3 h-3 bg-red-400 rounded-full translate-y-1" />
                  <div>
                    Failed
                    <div className="text-gray-500 dark:text-gray-400">
                      3 tests
                    </div>
                  </div>
                </div>
              </div>
              <Separator className="my-2 lg:hidden" />
              <div className="p-2 grid gap-1 flex-1">
                <div className="flex items-center gap-2 text-gray-500 dark:text-gray-400">
                  Last run: 2 hours ago
                </div>
              </div>
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button
                    className="absolute top-4 right-4"
                    size="icon"
                    variant="ghost"
                  >
                    <MoveHorizontalIcon className="w-4 h-4" />
                    <span className="sr-only">Toggle menu</span>
                  </Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent align="end">
                  <DropdownMenuItem>View Tests</DropdownMenuItem>
                  <DropdownMenuItem>Run Tests</DropdownMenuItem>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem disabled>Edit Tests</DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            </div>
            <div className="flex flex-col lg:flex-row bg-white text-sm p-2 relative dark:bg-gray-950">
              <div className="p-2 grid gap-1 flex-1">
                <div className="font-medium">Cloud Infrastructure Scanning</div>
                <div className="text-gray-500 dark:text-gray-400">
                  Automated scanning of cloud resources
                </div>
              </div>
              <Separator className="my-2 lg:hidden" />
              <div className="p-2 grid gap-1 flex-1">
                <div className="flex items-start gap-2">
                  <span className="inline-flex w-3 h-3 bg-green-400 rounded-full translate-y-1" />
                  <div>
                    Passed
                    <div className="text-gray-500 dark:text-gray-400">
                      25 resources
                    </div>
                  </div>
                </div>
              </div>
              <Separator className="my-2 lg:hidden" />
              <div className="p-2 grid gap-1 flex-1">
                <div className="flex items-start gap-2">
                  <span className="inline-flex w-3 h-3 bg-yellow-400 rounded-full translate-y-1" />
                  <div>
                    Warnings
                    <div className="text-gray-500 dark:text-gray-400">
                      5 resources
                    </div>
                  </div>
                </div>
              </div>
              <Separator className="my-2 lg:hidden" />
              <div className="p-2 grid gap-1 flex-1">
                <div className="flex items-center gap-2 text-gray-500 dark:text-gray-400">
                  Last run: 1 day ago
                </div>
              </div>
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button
                    className="absolute top-4 right-4"
                    size="icon"
                    variant="ghost"
                  >
                    <MoveHorizontalIcon className="w-4 h-4" />
                    <span className="sr-only">Toggle menu</span>
                  </Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent align="end">
                  <DropdownMenuItem>View Scan Results</DropdownMenuItem>
                  <DropdownMenuItem>Run Scan</DropdownMenuItem>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem disabled>
                    Configure Scanning
                  </DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            </div>
            <div className="flex flex-col lg:flex-row bg-white text-sm p-2 relative dark:bg-gray-950">
              <div className="p-2 grid gap-1 flex-1">
                <div className="font-medium">API Security Scanning</div>
                <div className="text-gray-500 dark:text-gray-400">
                  Automated security scanning of APIs
                </div>
              </div>
              <Separator className="my-2 lg:hidden" />
              <div className="p-2 grid gap-1 flex-1">
                <div className="flex items-start gap-2">
                  <span className="inline-flex w-3 h-3 bg-green-400 rounded-full translate-y-1" />
                  <div>
                    Passed
                    <div className="text-gray-500 dark:text-gray-400">
                      18 APIs
                    </div>
                  </div>
                </div>
              </div>
              <Separator className="my-2 lg:hidden" />
              <div className="p-2 grid gap-1 flex-1">
                <div className="flex items-start gap-2">
                  <span className="inline-flex w-3 h-3 bg-red-400 rounded-full translate-y-1" />
                  <div>
                    Failed
                    <div className="text-gray-500 dark:text-gray-400">
                      2 APIs
                    </div>
                  </div>
                </div>
              </div>
              <Separator className="my-2 lg:hidden" />
              <div className="p-2 grid gap-1 flex-1">
                <div className="flex items-center gap-2 text-gray-500 dark:text-gray-400">
                  Last run: 3 days ago
                </div>
              </div>
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button
                    className="absolute top-4 right-4"
                    size="icon"
                    variant="ghost"
                  >
                    <MoveHorizontalIcon className="w-4 h-4" />
                    <span className="sr-only">Toggle menu</span>
                  </Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent align="end">
                  <DropdownMenuItem>View Scan Results</DropdownMenuItem>
                  <DropdownMenuItem>Run Scan</DropdownMenuItem>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem disabled>
                    Configure Scanning
                  </DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            </div>
          </div>
        </div>
      </main>
    </div>
  );
}

function BeakerIcon(props: any) {
  return (
    <svg
      {...props}
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
    >
      <path d="M4.5 3h15" />
      <path d="M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3" />
      <path d="M6 14h12" />
    </svg>
  );
}

function ChevronRightIcon(props: any) {
  return (
    <svg
      {...props}
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
    >
      <path d="m9 18 6-6-6-6" />
    </svg>
  );
}

function CloudIcon(props: any) {
  return (
    <svg
      {...props}
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
    >
      <path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z" />
    </svg>
  );
}

function CodeIcon(props: any) {
  return (
    <svg
      {...props}
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
    >
      <polyline points="16 18 22 12 16 6" />
      <polyline points="8 6 2 12 8 18" />
    </svg>
  );
}

function MoveHorizontalIcon(props: any) {
  return (
    <svg
      {...props}
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
    >
      <polyline points="18 8 22 12 18 16" />
      <polyline points="6 8 2 12 6 16" />
      <line x1="2" x2="22" y1="12" y2="12" />
    </svg>
  );
}

function PiIcon(props: any) {
  return (
    <svg
      {...props}
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
    >
      <line x1="9" x2="9" y1="4" y2="20" />
      <path d="M4 7c0-1.7 1.3-3 3-3h13" />
      <path d="M18 20c-1.7 0-3-1.3-3-3V4" />
    </svg>
  );
}
